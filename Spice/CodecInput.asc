Version 4
SHEET 1 5572 1568
WIRE 4240 64 4192 64
WIRE 4352 64 4304 64
WIRE 4560 160 4560 96
WIRE 4192 176 4192 64
WIRE 4240 176 4192 176
WIRE 4352 176 4352 64
WIRE 4352 176 4320 176
WIRE 3936 288 3872 288
WIRE 4048 288 4000 288
WIRE 4192 288 4192 176
WIRE 4192 288 4128 288
WIRE 4256 288 4192 288
WIRE 4352 304 4352 176
WIRE 4352 304 4320 304
WIRE 4432 304 4352 304
WIRE 4560 304 4560 224
WIRE 4560 304 4512 304
WIRE 4640 304 4560 304
WIRE 4256 320 4192 320
WIRE 4192 368 4192 320
WIRE 4560 384 4560 304
WIRE 4560 512 4560 448
WIRE 4624 784 4624 752
WIRE 3872 800 3872 768
WIRE 4016 800 4016 768
WIRE 4128 800 4128 768
WIRE 4240 800 4240 768
WIRE 4368 800 4368 768
WIRE 3872 912 3872 880
WIRE 4016 912 4016 880
WIRE 4128 912 4128 880
WIRE 4240 912 4240 880
WIRE 4368 912 4368 880
WIRE 4624 912 4624 864
FLAG 4128 912 0
FLAG 4128 768 VCC
FLAG 4240 912 0
FLAG 4240 768 VSS
FLAG 4368 912 0
FLAG 4368 768 Vin2
FLAG 4624 912 0
FLAG 4624 752 Vin
FLAG 4288 336 VSS
FLAG 4288 272 VCC
FLAG 4640 304 Out
FLAG 3872 288 Vin
FLAG 4016 912 0
FLAG 4016 768 VCom
FLAG 3872 912 0
FLAG 3872 768 V5V
FLAG 4192 368 VCom
FLAG 4560 96 V5V
FLAG 4560 512 0
SYMBOL voltage 4128 784 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value 12
SYMBOL voltage 4368 784 R0
WINDOW 123 24 124 Left 2
WINDOW 39 0 0 Left 2
SYMATTR Value2 AC 1
SYMATTR InstName V2
SYMATTR Value SINE(0 5 1k)
SYMBOL voltage 4240 784 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V3
SYMATTR Value -12
SYMBOL voltage 4624 768 R0
WINDOW 123 24 124 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName Vcv
SYMATTR Value PWL(0 0 1m 0 2m -5 3m 5 4m 0 5m 0 6m -12 8m 12 9m 0 10m 0)
SYMBOL opamp2 4288 240 R0
SYMATTR InstName U4
SYMATTR Value TL071
SYMBOL res 4528 288 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R28
SYMATTR Value 1k
SYMBOL res 4336 160 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R29
SYMATTR Value 30k
SYMBOL cap 4304 48 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 120p
SYMBOL voltage 4016 784 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V4
SYMATTR Value 2.5
SYMBOL res 4144 272 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 100k
SYMBOL voltage 3872 784 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V5
SYMATTR Value 5
SYMBOL cap 4000 272 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 10µ
SYMBOL schottky 4576 448 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D1
SYMATTR Value 1N5819
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL schottky 4576 224 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D2
SYMATTR Value 1N5819
SYMATTR Description Diode
SYMATTR Type diode
TEXT 4712 472 Left 2 !.include TL071.mod
TEXT 4712 512 Left 2 !.tran 0 10mm 0 500n
